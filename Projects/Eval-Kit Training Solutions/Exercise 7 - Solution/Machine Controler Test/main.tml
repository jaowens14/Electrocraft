//This file is automatically generated by MotionPRO Suite
//DO NOT MODIFY THIS FILE; your changes will be overwritten

// Exercise 7 - Multi-axis machine control
//
//

  int gConveyorCtrl; // Define integer variable gConveyorCtrl

  int gTubeFeedCtrl; // Define integer variable gTubeFeedCtrl

  int gTubeFillCtrl; // Define integer variable gTubeFillCtrl

  int gMasterCtrl; // Define integer variable gMasterCtrl

// End of user variable definition
  gConveyorCtrl = 0;

  gTubeFeedCtrl = 0;

  gTubeFillCtrl = 0;

  gMasterCtrl = 0;

// End of Network user variable initialization
  int Temp; // Define integer variable Temp

// End of user variable definition
  Temp = 0;

// End of user variable initialization
MainLoop: //Define label MainLoop

  Temp = IN(5); // Set corresponding bits from Temp according with selected inputs status

  GOTO gMasterCtrlSlow, Temp, EQ; //Branch to gMasterCtrlSlow if Temp == 0

  Temp = IN(6); // Set corresponding bits from Temp according with selected inputs status

  GOTO gMasterCtrlFast, Temp, EQ; //Branch to gMasterCtrlFast if Temp == 0

  GOTO gMasterCtrlTestEnd; //Branch to gMasterCtrlTestEnd

gMasterCtrlSlow: //Define label gMasterCtrlSlow

  SRB gMasterCtrl, 0x0, 0x0; //Set gMasterCtrl using AND mask 0x0000 and OR mask 0x0000

  [1]gMasterCtrl = gMasterCtrl; //Send the local variable gMasterCtrl to variable gMasterCtrl of axis/group 1

  [2]gMasterCtrl = gMasterCtrl; //Send the local variable gMasterCtrl to variable gMasterCtrl of axis/group 2

  [3]gMasterCtrl = gMasterCtrl; //Send the local variable gMasterCtrl to variable gMasterCtrl of axis/group 3

  GOTO gMasterCtrlTestEnd; //Branch to gMasterCtrlTestEnd

gMasterCtrlFast: //Define label gMasterCtrlFast

  SRB gMasterCtrl, 0x0, 0x1; //Set gMasterCtrl using AND mask 0x0000 and OR mask 0x0001

  [1]gMasterCtrl = gMasterCtrl; //Send the local variable gMasterCtrl to variable gMasterCtrl of axis/group 1

  [2]gMasterCtrl = gMasterCtrl; //Send the local variable gMasterCtrl to variable gMasterCtrl of axis/group 2

  [3]gMasterCtrl = gMasterCtrl; //Send the local variable gMasterCtrl to variable gMasterCtrl of axis/group 3

  GOTO gMasterCtrlTestEnd; //Branch to gMasterCtrlTestEnd

gMasterCtrlTestEnd: //Define label gMasterCtrlTestEnd

  Temp = IN(0); // Set corresponding bits from Temp according with selected inputs status

  OUT(0) = Temp; //Set outputs 0 according with corresponding bits from Temp

  GOTO ConveyorTestEnd, Temp, NEQ; //Branch to ConveyorTestEnd if Temp != 0

ConveyorON: //Define label ConveyorON

  SRB gConveyorCtrl, 0x0, 0x1; //Set gConveyorCtrl using AND mask 0x0000 and OR mask 0x0001

  [1]gConveyorCtrl = gConveyorCtrl; //Send the local variable gConveyorCtrl to variable gConveyorCtrl of axis/group 1

  GOTO ConveyorTestEnd; //Branch to ConveyorTestEnd

ConveyorTestEnd: //Define label ConveyorTestEnd

  Temp = IN(1); // Set corresponding bits from Temp according with selected inputs status

  OUT(1) = Temp; //Set outputs 1 according with corresponding bits from Temp

  GOTO TubeFeedRtn, Temp, NEQ; //Branch to TubeFeedRtn if Temp != 0

TubeFeedOut: //Define label TubeFeedOut

  SRB gTubeFeedCtrl, 0x0, 0x1; //Set gTubeFeedCtrl using AND mask 0x0000 and OR mask 0x0001

  [2]gTubeFeedCtrl = gTubeFeedCtrl; //Send the local variable gTubeFeedCtrl to variable gTubeFeedCtrl of axis/group 2

  GOTO TubeFeedTestEnd; //Branch to TubeFeedTestEnd

TubeFeedRtn: //Define label TubeFeedRtn

  SRB gTubeFeedCtrl, 0x0, 0x100; //Set gTubeFeedCtrl using AND mask 0x0000 and OR mask 0x0100

  [2]gTubeFeedCtrl = gTubeFeedCtrl; //Send the local variable gTubeFeedCtrl to variable gTubeFeedCtrl of axis/group 2

  GOTO TubeFeedTestEnd; //Branch to TubeFeedTestEnd

TubeFeedTestEnd: //Define label TubeFeedTestEnd

  Temp = IN(7); // Set corresponding bits from Temp according with selected inputs status

  OUT(5) = Temp; //Set outputs 5 according with corresponding bits from Temp

  GOTO TubeFillTestEnd, Temp, NEQ; //Branch to TubeFillTestEnd if Temp != 0

TubeFill: //Define label TubeFill

  SRB gTubeFillCtrl, 0x0, 0x1; //Set gTubeFillCtrl using AND mask 0x0000 and OR mask 0x0001

  [3]gTubeFillCtrl = gTubeFillCtrl; //Send the local variable gTubeFillCtrl to variable gTubeFillCtrl of axis/group 3

  GOTO TubeFillTestEnd; //Branch to TubeFillTestEnd

TubeFillTestEnd: //Define label TubeFillTestEnd

  GOTO MainLoop; //Branch to MainLoop

// End of Main program loop
// End of program
