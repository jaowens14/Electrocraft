//This file is automatically generated by MotionPRO Suite
//DO NOT MODIFY THIS FILE; your changes will be overwritten

// Exercise 5 - Indexing with Speed and Position moves
//
// Motion selection:
//    IN0 pressed = Speed move 
//    IN1 pressed = Position move
//    No buttons pressed = Stop move
//
// While selecting motion, press IN6 to trigger selected motion

  int IndexValue; // Define integer variable IndexValue

  int TempIndexValue; // Define integer variable TempIndexValue

// End of user variable definition
  IndexValue = 0;

  TempIndexValue = 0;

// End of user variable initialization
MotionIndexingLoop: //Define label MotionIndexingLoop

  // Define event : When the digital input IN6 is high
  !IN#6 1;
  WAIT!; // Wait until the event occurs

  // Define event : When the digital input IN6 is low
  !IN#6 0;
  WAIT!; // Wait until the event occurs

  IndexValue = IN(0,1); // Set corresponding bits from IndexValue according with selected inputs status

  GOTO Case_0_IndexValue_End, IndexValue, NEQ; //Branch to Case_0_IndexValue_End if IndexValue != 0

// Code for Case 0 starts here
  CALL IndexFunction0; //Call function IndexFunction0

// Code for Case 0 ends here
  GOTO Switch_IndexValue_End; //Branch to Switch_IndexValue_End

Case_0_IndexValue_End: //Define label Case_0_IndexValue_End

  TempIndexValue = IndexValue;

  TempIndexValue -= 1;

  GOTO Case_1_IndexValue_End, TempIndexValue, NEQ; //Branch to Case_1_IndexValue_End if TempIndexValue != 0

// Code for Case 1 starts here
  CALL IndexFunction1; //Call function IndexFunction1

// Code for Case 1 ends here
  GOTO Switch_IndexValue_End; //Branch to Switch_IndexValue_End

Case_1_IndexValue_End: //Define label Case_1_IndexValue_End

  TempIndexValue = IndexValue;

  TempIndexValue -= 2;

  GOTO Case_2_IndexValue_End, TempIndexValue, NEQ; //Branch to Case_2_IndexValue_End if TempIndexValue != 0

// Code for Case 2 starts here
  CALL IndexFunction2; //Call function IndexFunction2

// Code for Case 2 ends here
  GOTO Switch_IndexValue_End; //Branch to Switch_IndexValue_End

Case_2_IndexValue_End: //Define label Case_2_IndexValue_End

  TempIndexValue = IndexValue;

  TempIndexValue -= 3;

  GOTO Case_3_IndexValue_End, TempIndexValue, NEQ; //Branch to Case_3_IndexValue_End if TempIndexValue != 0

// Code for Case 3 starts here
  CALL IndexFunction3; //Call function IndexFunction3

// Code for Case 3 ends here
  GOTO Switch_IndexValue_End; //Branch to Switch_IndexValue_End

Case_3_IndexValue_End: //Define label Case_3_IndexValue_End

// Code for Defaule Case starts here
  CALL IndexFunctionDefault; //Call function IndexFunctionDefault

// Code for Default Case ends here
Switch_IndexValue_End: //Define label Switch_IndexValue_End

// End of Switch (IndexValue)
  GOTO MotionIndexingLoop; //Branch to MotionIndexingLoop

// End of Main program loop
// End of program
